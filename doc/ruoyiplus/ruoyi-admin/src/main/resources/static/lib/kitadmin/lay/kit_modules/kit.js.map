{"version":3,"sources":["kit.js"],"names":["layui","define","exports","$","jquery","window","utils","localStorage","this","Kit","type","config","version","prototype","set","options","extend","that","init","_private","tabsInit","toolsInit","toggleSide","sideBox","bodyBox","tabsBox","footerBox","attr","animate","width","left","margin-left","html","_win","on","toggle","innerWidth","click","resize","_that","toUpperCase","_layout","append","_body","themeInit","setting","kit","join","find","css","getItem","isString","JSON","parse","themeName","theme","str","_themeUrl","substr","lastIndexOf","hasClass","addClass"],"mappings":";cAAAA,MAAMC,OAAO,CAAC,QAAS,SAAU,SAASC,GACxC,IAAIC,EAAIH,MAAMI,OADhBJ,EAAMC,EAAOI,QACXC,MAAQN,MAAMI,MAAdG,aACWF,MADXE,aAEAD,IAAAA,EAAQN,WAERQ,KAAIC,OAAM,CACRC,KAAKC,QAASH,KAAdI,QAAA,SAIDH,EALDI,UAAAC,IAAA,SAAAC,GAQEZ,OADAA,EAAAa,QAAIC,EADNT,KACEG,OAAAI,GADFP,MAICC,EAJDI,UAAAK,KAAA,WAKAT,EAAII,SAAJL,MACEW,EAASC,aAKV,IANDD,EAAA,CAOAE,UAAIF,WACFE,IAAAA,EAAWlB,EAAA,uBACTmB,EAAIA,GAAAA,QAAe,WACnBA,IAAAA,EAAcnB,EAAA,iBACRoB,EAAUpB,EAAE,iBACZqB,EAAUrB,EAAE,mBACZsB,EAAYtB,EAAA,mBAEhB,OADIuB,EAAcC,KAAA,gBAElB,IAAA,KACEJ,EAAAK,QAAA,CAAAC,MAAA,QACEN,EAAQK,QAAQ,CAAEE,KAAA,MAClBN,EAAQI,QAAQ,CAAEG,cAAlB,MACAN,EAAQG,QAAU,CAAAE,KAAA,MAClBJ,EAAAA,MAAAA,KAAUE,cAAkB,OAC5BzB,EAAQwB,KAAK,gBAAeK,KAA5B,YACAV,MACA,IAAA,MACFC,EAAAK,QAAA,CAAAC,MAAA,UACEN,EAAQK,QAAQ,CAAEE,KAAA,UAClBN,EAAQI,QAAU,CAAAE,KAAQ,UAC1BJ,EAAAA,QAAUE,CAAQG,cAAU,UAC5BN,EAAAA,MAAQG,KAAAA,cAAU,MAClBzB,EAAQwB,KAAK,gBAAbK,KAAA,eAILC,EAxBDC,GAAA,SAAA,WAyBAD,IAAKC,EAAG/B,EAAR,uBAA6BwB,KAAA,eACvBQ,EAAAA,KAAWC,WACXP,EAAQ,MAAZ,OAAiBO,GACjBd,EAAYe,QAEX,KAAAR,GAAA,QAAAM,GACDb,EAAYe,UAGbJ,EATDK,UAWDlB,SAvCY,SAAAmB,GAiGX,GAA2B,SADVA,EAAM5B,OAAfD,KACC8B,cAA0B,CACjC,IAAIC,EAAUtC,EAAE,uBAChBsC,EAAQC,OA1DV,CACA,6DA8CA,gCA3CE,yCALsB,WAOtB,0BAkDF,kDACE,0DACAD,wEACA,cACAE,YACD,WAtGU,gCAwGbC,yCACE,WACA,iCACA,yCACE,WACEC,gEACD,WACD,oDACA,kDACA,iCACA1C,eACA,cACA,wCACEwC,uDACD,kDACF,iCACF,eAxHH,cAyEM,qDAkDFG,kDACJ,iCAhDM,eAkDN,cACA5C,wCAtJF,oDAuGQ,mCACA,4BACA,eACA,cACA,YACA,WACA,UAayB6C,KAAK,KAClBN,EAAQO,KAAK,eACnBhB,KAbY,CAClB,iDACA,+FACA,kCACA,WACA,UAQuBe,KAAK,KAAKE,IAAI,MAAO,UAGhDL,UAAW,WACT,IACIC,EAAUtC,aAAa2C,QADjB,0BAEV,GAAgB,OAAZL,EAAkB,CAChB7C,MAAMM,MAAM6C,SAASN,KACvBA,EAAUO,KAAKC,MAAMR,IAEvB,IAAIS,EAAYT,EAAQU,MACpBC,EAAMrD,EAAE,UAAUwB,KAAK,QACvB8B,EAAYD,EAAIE,OAAO,EAAGF,EAAIG,YAAY,KAAO,GACrDxD,EAAE,UAAUwB,KAAK,OAAQ8B,EAAYH,EAAY,QACjD,IAAIX,EAAQxC,EAAE,QACTwC,EAAMiB,SAAS,aAAeN,IACjCX,EAAMkB,SAAS,aAAeP,MAUtCpD,EAAQ,MAJE,IAAIO","file":"kit.js","sourcesContent":["layui.define(['layer', 'utils'], function(exports) {\r\n  var $ = layui.jquery,\r\n    _win = $(window)\r\n  utils = layui.utils,\r\n    localStorage = utils.localStorage;\r\n  var Kit = function() {\r\n    this.config = {\r\n      type: 'TABS'\r\n    };\r\n    this.version = '1.0.0';\r\n  };\r\n  Kit.prototype.set = function(options) {\r\n    var that = this;\r\n    $.extend(true, that.config, options);\r\n    return that;\r\n  };\r\n  Kit.prototype.init = function() {\r\n    _private.tabsInit(this);\r\n    _private.toolsInit();\r\n\r\n    // 初始化皮肤\r\n    // _private.themeInit();\r\n  }\r\n  var _private = {\r\n    toolsInit: function() {\r\n      var toggleSide = $('[kit-toggle=\"side\"]');\r\n      toggleSide.on('click', function() {\r\n        var sideBox = $('div[kit-side]');\r\n        var bodyBox = $('div[kit-body]');\r\n        var tabsBox = $('div[kit-tabs-t]');\r\n        var footerBox = $('div[kit-footer]');\r\n        var toggle = toggleSide.attr('data-toggle');\r\n        switch (toggle) {\r\n          case 'on':\r\n            sideBox.animate({ 'width': '0px' });\r\n            bodyBox.animate({ 'left': '0' });\r\n            tabsBox.animate({ 'margin-left': '0' });\r\n            footerBox.animate({ 'left': '0' });\r\n            $(this).attr('data-toggle', 'off');\r\n            toggleSide.find('i.layui-icon').html('&#xe65b;');\r\n            break;\r\n          case 'off':\r\n            sideBox.animate({ 'width': '200px' });\r\n            bodyBox.animate({ 'left': '200px' });\r\n            footerBox.animate({ 'left': '200px' });\r\n            tabsBox.animate({ 'margin-left': '200px' });\r\n            $(this).attr('data-toggle', 'on');\r\n            toggleSide.find('i.layui-icon').html('&#xe65a;');\r\n            break;\r\n        }\r\n      });\r\n      _win.on('resize', function() {\r\n        var toggle = $('[kit-toggle=\"side\"]').attr('data-toggle');\r\n        var width = this.innerWidth;\r\n        if (width < 1024 && toggle === 'on') {\r\n          toggleSide.click();\r\n        }\r\n        if (width > 1024 && toggle === 'off') {\r\n          toggleSide.click();\r\n        }\r\n      });\r\n      _win.resize();\r\n    },\r\n    tabsInit: function(_that) {\r\n      // var layid = new Date().getTime();\r\n      const tpl_title = [\r\n        '<div class=\"kit-tabs\" kit-target=\"tabs\" kit-tabs-t=\"true\">',\r\n        '  <div class=\"kit-tabs-prev\">',\r\n        '    <i class=\"layui-icon\">&#xe65a;</i>',\r\n        '  </div>',\r\n        '  <div class=\"kit-tab\">',\r\n        '    <ul class=\"kit-tab-title\" style=\"left: 0;\">',\r\n        '      <li lay-id=\"1\" class=\"layui-this\" data-path=\"#/\">',\r\n        '        <span title=\"主页\"><i class=\"layui-icon\">&#xe68e;</i> 主页</span>',\r\n        '      </li>',\r\n        '    </ul>',\r\n        '  </div>',\r\n        '  <div class=\"kit-tabs-next\">',\r\n        '    <i class=\"layui-icon\">&#xe65b;</i>',\r\n        '  </div>',\r\n        '  <div class=\"kit-tabs-tools\">',\r\n        '    <i class=\"layui-icon\">&#xe61a;</i>',\r\n        '  </div>',\r\n        '  <div class=\"kit-tabs-toolsbox layui-anim layui-anim-upbit\">',\r\n        '    <ul>',\r\n        '      <li class=\"kit-item\" data-action=\"refresh\">',\r\n        '        <a href=\"javascript:;\" title=\"刷新当前标签页\">',\r\n        '          <span>刷新当前标签页</span>',\r\n        '        </a>',\r\n        '      </li>',\r\n        '      <li class=\"kit-item-line\"></li>',\r\n        '      <li class=\"kit-item\" data-action=\"closeOther\">',\r\n        '        <a href=\"javascript:;\" title=\"关闭其他标签页\">',\r\n        '          <span>关闭其他标签页</span>',\r\n        '        </a>',\r\n        '      </li>',\r\n        '      <li class=\"kit-item\" data-action=\"closeAll\">',\r\n        '        <a href=\"javascript:;\" title=\"关闭所有标签页\">',\r\n        '          <span>关闭所有标签页</span>',\r\n        '        </a>',\r\n        '      </li>',\r\n        '      <li class=\"kit-item-line\"></li>',\r\n        '      <li class=\"kit-item layui-this\" lay-id=\"1\">',\r\n        '        <a href=\"#/\" title=\"首页\">',\r\n        '          <span>首页</span>',\r\n        '        </a>',\r\n        '      </li>',\r\n        '    </ul>',\r\n        '  </div>',\r\n        '</div>',\r\n      ];\r\n      const tpl_content = [\r\n        '<div class=\"kit-tabs-content\" kit-tabs=\"tabs\">',\r\n        '  <div class=\"kit-tabs-item layui-show\" data-rendered=\"false\" data-path=\"#/\" lay-tab-id=\"1\">',\r\n        '    <router-view></router-view>',\r\n        '  </div>',\r\n        '</div>',\r\n      ];\r\n\r\n      const { type } = _that.config;\r\n      if (type.toUpperCase() === 'TABS') {\r\n        var _layout = $('.layui-layout-admin');\r\n        _layout.append(tpl_title.join(''));\r\n        var _body = _layout.find('.layui-body');\r\n        _body.html(tpl_content.join('')).css('top', '90px');\r\n      }\r\n    },\r\n    themeInit: function() {\r\n      var key = 'KITADMIN_SETTING_THEME';\r\n      var setting = localStorage.getItem(key);\r\n      if (setting !== null) {\r\n        if (layui.utils.isString(setting)) {\r\n          setting = JSON.parse(setting);\r\n        }\r\n        var themeName = setting.theme;\r\n        var str = $('#theme').attr('href');\r\n        var _themeUrl = str.substr(0, str.lastIndexOf('/') + 1);\r\n        $('#theme').attr('href', _themeUrl + themeName + '.css');\r\n        var _body = $('body');\r\n        if (!_body.hasClass('kit-theme-' + themeName)) {\r\n          _body.addClass('kit-theme-' + themeName);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  var kit = new Kit();\r\n  //kit.init();\r\n\r\n  //输出kit接口\r\n  exports('kit', kit);\r\n});"]}