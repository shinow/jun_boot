/** kitadmin-v2.1.6 MIT License By http://kit.zhengjinfan.cn Author Van Zheng */
;"use strict";var _createClass=function(){function i(e,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,l,a){return l&&i(e.prototype,l),a&&i(e,a),e}}();function _classCallCheck(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}layui.define(["layer","utils","axios","laytpl"],function(e){var a="cascader",r=layui.jquery,l=layui.layer,u=layui.utils,t=layui.lodash,c=layui.laytpl,i={tpl:['<div class="kit-cascader" kit-filter="{{d.filter}}">','  <div class="kit-cascader-title">','    <span class="kit-cascader-show">{{d.placeholder}}</span>','    <div class="kit-icon">','      <i class="layui-icon">&#xe61a;</i>',"    </div>","  </div>","  {{d.content}}","</div>"],renderHTML:function(e){var l=e._elem,a=e.data,i=e.callback,n=e.filter,s=['<ul class="kit-cascader-list">'];this.recursion(s,a,0);var t=l[0].placeholder;l.attr("lay-filter",n),0<s.length&&(s.push("</ul>"),c(this.tpl.join("")).render({placeholder:""===t?"Please select":t,content:s.join(""),filter:n},function(e){l.after(e),u.isFunction(i)&&i()}))},recursion:function(a,e,i){var n=this,s=[];t.forEach(e,function(e,l){e.pid===i&&s.push(e)}),0<s.length&&t.forEach(s,function(e){a.push('<li class="kit-item" data-value="'+e.value+'" data-label="'+e.label+'">'),a.push('<a href="javascript:;">'),a.push("<span>"+e.label+"</span>");var l=e.children;null!=l&&0<l.length&&a.push('<i class="layui-icon">&#xe602;</i>'),a.push("</a>"),null!=l&&0<l.length&&(a.push('<ul class="kit-cascader-child layui-anim layui-anim-fadein">'),n.recursion(a,l,e.id),a.push("</ul>")),a.push("</li>")})}},n=function(){function e(){_classCallCheck(this,e),this.config={filter:u.randomCode()}}return _createClass(e,[{key:"set",value:function(e){return r.extend(!0,this.config,e),this}},{key:"render",value:function(e){var l=this,a={elem:void 0,defaultValues:[],disabled:!1,data:[],onChange:void 0,onClick:void 0,filter:l.config.filter};r.extend(!0,a,e),void 0!==a.elem?u.isString(a.elem)&&0===r(a.elem).length?console.warn("Cascader Error:请为cascader绑定elem."):u.isObject(a.elem)&&0===a.elem.length?console.warn("Cascader Error:请为cascader绑定elem."):(a.elem=u.isString(a.elem)?r(a.elem):a.elem,1<a.elem.length?console.warn("Cascader Error:一次只能渲染一个Cascader."):i.renderHTML({filter:a.filter,_elem:a.elem,data:[{id:1,pid:0,value:"440000",label:"广东省",children:[{id:2,pid:1,value:"440100",label:"广州市",children:[{id:3,pid:2,value:"440106",label:"天河区"},{id:4,pid:2,value:"440104",label:"越秀区"},{id:5,pid:2,value:"440105",label:"海珠区"}]}]},{id:11,pid:0,value:"510000",label:"四川省",children:[{id:22,pid:11,value:"510100",label:"成都市",children:[{id:33,pid:22,value:"510101",label:"市辖区"},{id:44,pid:22,value:"510104",label:"锦江区"},{id:55,pid:22,value:"510105",label:"青羊区"}]}]}],callback:function(){l.bind(a)}})):console.warn("Cascader Error:请为cascader绑定elem.")}},{key:"bind",value:function(i){var s=r("*[kit-filter="+i.filter+"]"),t=s.find(".kit-cascader-show"),c=void 0;t.on("click",function(e){layui.stope(e),(c=s.find(".kit-cascader-list")).hasClass("layui-show")||(c.addClass("layui-show"),r(document).one("click",function(e){layui.stope(e),c.removeClass("layui-show")}))}),s.find(".kit-item").on("click",function(e){layui.stope(e);var n={values:[],labels:[],objs:[]},l=r(this);l.addClass("layui-this").siblings().removeClass("layui-this");var a=l.children(".kit-cascader-child");0<a.length?(l.siblings().find(".kit-item").removeClass("layui-this"),l.siblings().find(".kit-cascader-child").removeClass("layui-show"),a.addClass("layui-show")):(s.find("li.layui-this").each(function(e,l){var a=r(this).attr("data-value"),i=r(this).attr("data-label");n.values.push(a),n.labels.push(i),n.objs.push({value:a,label:i})}),c&&c.removeClass("layui-show"),t.html(n.labels.join("/")),i.elem.val(n.values.join(",")),u.isFunction(i.onChange)&&i.onChange({elem:i.elem,obj:n})),u.isFunction(i.onClick)&&i.onClick({elem:l,obj:{value:l.attr("data-value"),label:l.attr("data-label")}})})}},{key:"hello",value:function(){l.msg("cccc")}},{key:"on",value:function(e,l){return layui.onevent.call(this,a,e,l)}}]),e}();e(a,n)});
//# sourceMappingURL=cascader.js.map
