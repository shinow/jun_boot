/** kitadmin-v2.1.6 MIT License By http://kit.zhengjinfan.cn Author Van Zheng */
;"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function _defineProperty(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}layui.define(["layer","laytpl","utils","lodash"],function(i){var o=layui.jquery,e=(layui.layer,layui.laytpl),r=layui.lodash,l=layui.utils,c=o("body"),t=function(){this.version="1.0.0"},s=['<div class="kit-sidebar" style="{{d.direction}}:-{{d.width}};width:{{d.width}};" kit-sidebar="{{d.id}}">','<div class="kit-sidebar-body">','  <div class="layui-card">','    <div class="layui-card-header">','      <span class="nowrap" title="{{d.title}}">{{d.title}}</span>','      <div class="kit-sidebar-reload" title="刷新">','        <i class="layui-icon">&#xe669;</i>',"      </div>",'      <div class="kit-sidebar-close" title="关闭">','        <i class="layui-icon">&#x1006;</i>',"      </div>","    </div>",'    <div class="layui-card-body">',"      {{d.content}}","    </div>","  </div>","</div>","</div>"].join(""),n=['<div class="kit-sidebar-loading layui-anim layui-anim-fadein">',"    <div>",'        <i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop">&#xe63e;</i>',"    </div>","</div>"];t.prototype.defaults={elem:void 0,content:"",shade:!1,shadeClose:!0,title:"未命名",direction:"right",dynamicRender:!1,url:void 0,width:"280px",done:void 0},t.prototype.render=function(i){var e=this,t=r.cloneDeep(e.defaults);o.extend(!0,t,i);var n=t;if(!l.oneOf(n.direction,["left","right"]))return l.error('Sidebar error: [direction] property error,Only "left" or "right" .'),e;var a={title:n.title,id:l.randomCode(),content:n.content,direction:n.direction,width:n.width};if(n.dynamicRender){var d=n.url+"?version="+(new Date).getTime();l.tplLoader(d,function(i){a.content=i,u.renderHTML(n,a)},function(i){a.content=i,u.renderHTML(n,a)})}else u.renderHTML(n,a);return e};var u={renderHTML:function(n,a){var d=o(n.elem);void 0===d.attr("kit-sidebar-target")&&e(s).render(a,function(i){n.shade&&(i=i+'<div class="kit-shade" kit-shade="'+a.id+'"></div>'),c.append(i),"function"==typeof n.done&&n.done();var t=o('div[kit-sidebar="'+a.id+'"]'),e=o('div[kit-shade="'+a.id+'"]');d.attr("data-toggle","off"),d.attr("kit-sidebar-target","true"),d.on("click",function(){switch(o(this).data("toggle")){case"on":t.animate(_defineProperty({},n.direction,"-"+n.width)),e.hide(),o(this).data("toggle","off");break;case"off":t.animate(_defineProperty({},n.direction,"0px")),e.show(),o(this).data("toggle","on")}}),"object"===_typeof(n.elem)&&d.click(),n.shadeClose&&e.on("click",function(){d.click()}),t.find(".kit-sidebar-reload").on("click",function(){var e=this;if(n.dynamicRender){u.showLoading(t);var i=n.url+"?version="+(new Date).getTime();l.tplLoader(i,function(i){o(e).parent().next(".layui-card-body").html(i),u.hideLoading(t)},function(i){o(e).parent().next(".layui-card-body").html("Loading error:"+i),u.hideLoading(t)})}}),t.find(".kit-sidebar-close").on("click",function(){d.click()})})},showLoading:function(i){i.append(n.join(""))},hideLoading:function(e){setTimeout(function(){var i=e.find(".kit-sidebar-loading");i.addClass("layui-anim-fadeout"),setTimeout(function(){i.remove()},300)},500)}};i("sidebar",new t)});
//# sourceMappingURL=sidebar.js.map
