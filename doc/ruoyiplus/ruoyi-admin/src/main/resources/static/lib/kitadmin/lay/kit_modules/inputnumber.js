/** kitadmin-v2.1.6 MIT License By http://kit.zhengjinfan.cn Author Van Zheng */
;"use strict";layui.define(["jquery","laytpl"],function(t){var d=layui.jquery,e=layui.laytpl,i=['<div class="kit-inputnumber" kit-in-for="{{d.id}}" style="left:{{d.left}}px;">','  <div class="kit-inputnumber-up"><i class="layui-icon">&#xe619;</i></div>','  <div class="kit-inputnumber-down"><i class="layui-icon">&#xe61a;</i></div>',"</div>"],n=function(){this.config={max:1e6,min:0,precision:1,defaultType:"integer",onClicked:void 0}};n.prototype.set=function(t){return d.extend(!0,this.config,t),this},n.prototype.render=function(){var o=this.config;d('input[kit-target="inputnumber"]').each(function(){var u=d(this);if(!u.attr("data-rendered")){var l=s.randomCode();e(i.join("")).render({id:l,left:u[0].offsetWidth-28},function(t){var i=u[0].min||o.min,n=u[0].max||o.max,a=u.attr("kit-in-precision")||o.precision;u.attr("kit-in-type")||o.defaultType;u[0].id=l,u.parent().append(t),u.attr("data-rendered","true");var e=u.val();switch(0==s.validate(e)&&u.val(0),o.defaultType){case"integer":parseInt(e)>parseInt(n)&&u.val(n),parseInt(e)<parseInt(i)&&u.val(i);break;case"double":parseFloat(e)>parseFloat(n)&&u.val(n),parseFloat(e)<parseFloat(i)&&u.val(i)}var r=d('div[kit-in-for="'+l+'"]');r.find(".kit-inputnumber-up").off("click").on("click",function(){var t=s.validate(u.val());if("integer"===o.defaultType){var e=parseInt(t);e+=parseInt(a),(n=parseInt(n))<=e&&(e=n),u.val(e)}s.isFunction(o.onClicked)&&o.onClicked({elem:u,value:t})}),r.find(".kit-inputnumber-down").off("click").on("click",function(){var t=s.validate(u.val());if("integer"===o.defaultType){var e=parseInt(t);(e-=parseInt(a))<=(i=parseInt(i))&&(e=i),u.val(e)}s.isFunction(o.onClicked)&&o.onClicked({elem:u,value:t})})})}})};var s={randomCode:function(){return Math.random().toString(36).substr(2)},validate:function(t){return""!==t&&a.isInteger(t)||a.isDouble(t)?t:0},isFunction:function(t){return"function"==typeof t}},a={isInteger:function(t){return 0!=t.length&&/^[-+]?\d*$/.test(t)},isDouble:function(t){return 0!=t.length&&/^[-\+]?\d+(\.\d+)?$/.test(t)}};t("inputnumber",new n)});
//# sourceMappingURL=inputnumber.js.map
